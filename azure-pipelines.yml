name: cicd_ci

trigger:
  branches:
    include:
      - azure-pipelines

pool:
  vmImage: ubuntu-latest

stages:
- stage: CI_Checks
  jobs:
  - job:
    displayName: JobBuild
    pool:
      vmImage: 'ubuntu-latest'
    steps:
    - script: |
        mvn test
      displayName: 'Execute tests'    
    - script: |
        echo "Starting the build"
        mvn -B -DskipTests clean package
      displayName: 'Build with Maven'
